apiVersion: v1
kind: Secret
metadata:
  name: ubiquity-db-credentials
  labels:
    product: ibm-storage-enabler-for-containers
    # Ubiquity database credentials needed for ubiquity and ubiquity-db deployments
    # Attention:
    #      These settings will configure the database properties during the initial installation.
    #      If these settings need to be changed after installation, configure them manually in the ubiqutiy-db postgres as well.
type: Opaque
data:
   # Base64-encoded username to be set for the ubiquity-db deployment.
   username: {{ .Values.GenericConfig.ubiquityPersistency.ubiquityDbCredentials.username | quote }}

   # Base64-encoded password to be set for the ubiquity-db deployment.
   password: {{ .Values.GenericConfig.ubiquityPersistency.ubiquityDbCredentials.password | b64enc | quote }}

   # Base64-encoded database name ("dWJpcXVpdHk=" base64 is "ubiquity") to be created for the ubiquity-db deployment.
   dbname: "dWJpcXVpdHk="
